<!DOCTYPE html>
<html>
<head>
	<title>Call, apply and bind</title>
	<meta charset="utf-8">
</head>
<body>
</body>
<script>
	var person = {
		firstname: 'John',
		lastname: 'Smith',
		fullname: function(){
			/* this functions concatenate the first and the last name,
			these variables are saved in the person object, but what happnes
			when you add these properties to the function object */

			return this.firstname + ' ' + this.lastname;

			/* Why that works ? I think that's because you extract the function,
			and then call it with other object attached */
		}
	}

	var nick = {
		firstname: 'Nick',
		lastname: 'Doe'
	}

	/* call function serves to attach the properties of one object to a function, and
	then call it */

	console.log('\n**** Call Function example ****')
	console.log(person.fullname.call(nick))

	var definePerson = function(age, job){
		/* When a object its called with call, apply or bind, the this special key
		points to that object */

		console.log(this.fullname() + ' is ' + age + ' years old and he is a ' + job )
	}

	/* Also with these three functions you can put parameters to the function */
	
	console.log('\n**** Call function with arguments ****');
	/* in call you only need to separate it after the object */
	definePerson.call(person, 28, 'John');

	console.log('\n**** Apply function ****');
	/* apply is the same as call, the difference is that the arguments needs
	to be in an array */
	definePerson.apply(person, [30, 'Designer']);

	console.log('\n**** Bind function ****');
	/* bind function copy the function with the attached object that you want
	its useful when you need to keep that */
	var getPerson = definePerson.bind(person);

	/* and later you can execute the function with arguments */
	getPerson(19, 'student');

	console.log('\n**** Bind function with arguments ****');
	/* or directly bind the object and too the arguments */
	getPerson = definePerson.bind(person, 19, 'student');
	getPerson();
</script>
</html>